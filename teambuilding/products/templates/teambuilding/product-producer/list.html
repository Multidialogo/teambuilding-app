{% extends "teambuilding/site/shared/crud/page.html" %}
{% load i18n %}

{% block crud_header %}
    {% translate "Manage producers" %}
{% endblock %}

{% block crud_content %}
    <a class="button" href="{% url 'product-producer-create' %}">{% translate "New" %}</a>
    <hr>
    <table class="table">
        <tr>
            <th>{% translate "Name" %}</th>
            <th>{% translate "Email" %}</th>
            <th>{% translate "Phone number" %}</th>
            <th>{% translate "Postal address" %}</th>
            <th></th>
            <th></th>
        </tr>
        {% for producer in producers %}
            <tr>
                <td>{{ producer.name|escape }}</td>
                <td>{{ producer.email|escape }}</td>
                <td>{{ producer.phone|escape }}</td>
                <td>{{ producer.postal_address }}</td>
                <td>{% if user.is_staff or producer.added_by_user.id == user.profile.id %}
                    <a href="{% url 'product-producer-update' pk=producer.id %}">{% translate "Edit" %}</a>
                {% endif %}</td>
                <td>{% if user.is_staff or producer.added_by_user.id == user.profile.id %}
                    <a href="{% url 'product-producer-delete' pk=producer.id %}">{% translate "Remove" %}</a>
                {% endif %}</td>
            </tr>
        {% endfor %}
    </table>
{% endblock %}